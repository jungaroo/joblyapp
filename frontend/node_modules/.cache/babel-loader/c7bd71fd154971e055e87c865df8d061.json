{"ast":null,"code":"import _objectSpread from \"/Users/orlando/Projects/Rithm/Projects/jobly/jobly/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/orlando/Projects/Rithm/Projects/jobly/jobly/src/CompanyComponents/Companies.js\";\nimport React, { Component } from 'react';\nimport JoblyApi from '../JoblyApi';\nimport CompanyCard from './CompanyCard';\nimport uuid from 'uuid/v4';\nimport Search from '../Search.js';\nimport { withRouter } from \"react-router\";\n\nclass Companies extends Component {\n  // <NavLink to='/logout'>Log out</NavLink>\n  constructor(props) {\n    super(props);\n    this.state = {\n      companies: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async componentWillMount() {\n    const companies = await JoblyApi.getCompanies();\n    const comps = companies.map(c => _objectSpread({}, c, {\n      key: uuid()\n    }));\n    this.setState({\n      companies: comps\n    });\n  }\n  /** displays the companies matching the search term */\n\n\n  async handleSubmit(search) {\n    let res = await JoblyApi.search('companies', search);\n    this.setState({\n      companies: res\n    });\n  }\n\n  render() {\n    const companies = this.state.companies; // each company is { handle, name, description, logo_url }\n\n    return React.createElement(\"div\", {\n      className: \"mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: {\n        color: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \" Companies \"), React.createElement(Search, {\n      handleSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }), companies.map(c => React.createElement(CompanyCard, Object.assign({\n      handleSubmit: this.handleSubmit\n    }, c, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default withRouter(Companies);","map":{"version":3,"sources":["/Users/orlando/Projects/Rithm/Projects/jobly/jobly/src/CompanyComponents/Companies.js"],"names":["React","Component","JoblyApi","CompanyCard","uuid","Search","withRouter","Companies","constructor","props","state","companies","handleSubmit","bind","componentWillMount","getCompanies","comps","map","c","key","setState","search","res","render","color"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,SAASC,UAAT,QAA2B,cAA3B;;AAEA,MAAMC,SAAN,SAAwBN,SAAxB,CAAiC;AAC/B;AAEAO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE;AADA,KAAb;AAGA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAED,QAAMC,kBAAN,GAA2B;AACzB,UAAMH,SAAS,GAAG,MAAMT,QAAQ,CAACa,YAAT,EAAxB;AACA,UAAMC,KAAK,GAAGL,SAAS,CAACM,GAAV,CAAcC,CAAC,sBAAQA,CAAR;AAAWC,MAAAA,GAAG,EAAEf,IAAI;AAApB,MAAf,CAAd;AACA,SAAKgB,QAAL,CAAc;AAAET,MAAAA,SAAS,EAAEK;AAAb,KAAd;AACD;AAED;;;AACA,QAAMJ,YAAN,CAAmBS,MAAnB,EAA2B;AACzB,QAAIC,GAAG,GAAG,MAAMpB,QAAQ,CAACmB,MAAT,CAAgB,WAAhB,EAA4BA,MAA5B,CAAhB;AACA,SAAKD,QAAL,CAAc;AAACT,MAAAA,SAAS,EAAEW;AAAZ,KAAd;AACD;;AAEDC,EAAAA,MAAM,GAAE;AAAA,UACEZ,SADF,GACgB,KAAKD,KADrB,CACEC,SADF,EAEN;;AACA,WACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,KAAK,EAAE;AAAEa,QAAAA,KAAK,EAAE;AAAT,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE,oBAAC,MAAD;AAAQ,MAAA,YAAY,EAAE,KAAKZ,YAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGID,SAAS,CAACM,GAAV,CAAcC,CAAC,IAAI,oBAAC,WAAD;AACG,MAAA,YAAY,EAAE,KAAKN;AADtB,OAEOM,CAFP,EAGO,KAAKT,KAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAnB,CAHJ,CADF;AAUD;;AApC8B;;AAuCjC,eAAeH,UAAU,CAACC,SAAD,CAAzB","sourcesContent":["import React, {Component} from 'react';\nimport JoblyApi from '../JoblyApi';\nimport CompanyCard from './CompanyCard';\nimport uuid from 'uuid/v4';\nimport Search from '../Search.js';\n\nimport { withRouter } from \"react-router\";\n\nclass Companies extends Component{\n  // <NavLink to='/logout'>Log out</NavLink>\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      companies: []\n    }\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async componentWillMount() {\n    const companies = await JoblyApi.getCompanies();\n    const comps = companies.map(c=> ({...c, key: uuid()}));\n    this.setState({ companies: comps });\n  }\n\n  /** displays the companies matching the search term */\n  async handleSubmit(search) {\n    let res = await JoblyApi.search('companies',search);\n    this.setState({companies: res})\n  }\n\n  render(){\n    const { companies } = this.state;\n    // each company is { handle, name, description, logo_url }\n    return (\n      <div className=\"mx-auto\">\n        <h1 style={{ color: \"white\"}}> Companies </h1>\n        <Search handleSubmit={this.handleSubmit}/>\n        { companies.map(c => <CompanyCard \n                                handleSubmit={this.handleSubmit} \n                                {...c}\n                                {...this.props} />) }\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Companies);\n"]},"metadata":{},"sourceType":"module"}