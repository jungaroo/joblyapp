{"ast":null,"code":"import _objectSpread from \"/Users/orlando/Projects/Rithm/Projects/jobly/jobly/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/orlando/Projects/Rithm/Projects/jobly/jobly/src/NavBarComponents/Profile.js\";\nimport React, { Component } from 'react';\nimport JoblyApi from '../JoblyApi';\nimport { withRouter } from 'react-router';\nimport './Profile.css';\nimport JobCard from '../JobComponents/JobCard';\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      password: '',\n      email: '',\n      first_name: '',\n      last_name: '',\n      photo_url: '',\n      jobs: [],\n      open: false\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.toggleOpen = this.toggleOpen.bind(this);\n  }\n\n  async componentWillMount() {\n    let user = await JoblyApi.getUser(localStorage.getItem('username'));\n    this.setState(_objectSpread({}, user));\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n\n    let body = _objectSpread({}, this.state); // Removes bad keys for the backend schema\n\n\n    for (let key in body) {\n      if (!body[key] || key === 'jobs' || key === 'open') delete body[key];\n    }\n\n    let user = await JoblyApi.updateUser(localStorage.getItem('username'), body);\n\n    if (user) {\n      this.props.history.push('/');\n    } else {\n      this.props.history.push('/profile');\n    }\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  toggleOpen() {\n    let copy = _objectSpread({}, this.state);\n\n    copy.open = !copy.open;\n    this.setState(copy);\n  }\n\n  render() {\n    let editButtonStyle = {\n      backgroundColor: \"gainsboro\",\n      color: \"steelblue\",\n      height: '35px'\n    };\n    let jobCards = this.state.jobs.map(j => React.createElement(JobCard, Object.assign({}, j, {\n      applied: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })));\n    console.log(this.state.jobs);\n    return React.createElement(\"div\", {\n      className: \"py-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card mx-auto\",\n      style: {\n        width: \"30rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-outline-secondary\",\n      style: editButtonStyle,\n      onClick: this.toggleOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.state.open ? \"Close Edit form\" : \"Edit Profile\"), React.createElement(\"div\", {\n      className: \"card-body base \".concat(this.state.open ? 'show' : 'hide'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"username\",\n      autoComplete: \"username\",\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Password?\"), React.createElement(\"input\", {\n      onChange: this.handleChange,\n      name: \"password\",\n      className: \"form-control\",\n      value: this.state.password,\n      type: \"password\",\n      placeholder: \"Change your password here\",\n      autoComplete: \"current-password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"first_name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"First Name\"), React.createElement(\"input\", {\n      onChange: this.handleChange,\n      name: \"first_name\",\n      className: \"form-control\",\n      value: this.state.first_name || '',\n      type: \"text\",\n      placeholder: \"Enter First Name here\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"last_name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Last Name\"), React.createElement(\"input\", {\n      onChange: this.handleChange,\n      name: \"last_name\",\n      className: \"form-control\",\n      value: this.state.last_name || '',\n      type: \"text\",\n      placeholder: \"Enter Last Name here\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      onChange: this.handleChange,\n      name: \"email\",\n      className: \"form-control\",\n      value: this.state.email || '',\n      type: \"email\",\n      placeholder: \"Enter your Email here\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"photoUrl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Photo Url\"), React.createElement(\"input\", {\n      onChange: this.handleChange,\n      name: \"photoUrl\",\n      className: \"form-control\",\n      value: this.state.photo_url || '',\n      type: \"Url\",\n      placeholder: \"Enter a Photo Url here\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-success my-2 my-sm-0\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Save Change\")))), React.createElement(\"h1\", {\n      style: {\n        color: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \" Applied Jobs: \"), jobCards);\n  }\n\n}\n\nexport default withRouter(Profile);","map":{"version":3,"sources":["/Users/orlando/Projects/Rithm/Projects/jobly/jobly/src/NavBarComponents/Profile.js"],"names":["React","Component","JoblyApi","withRouter","JobCard","Profile","constructor","props","state","password","email","first_name","last_name","photo_url","jobs","open","handleSubmit","bind","handleChange","toggleOpen","componentWillMount","user","getUser","localStorage","getItem","setState","e","preventDefault","body","key","updateUser","history","push","target","name","value","copy","render","editButtonStyle","backgroundColor","color","height","jobCards","map","j","console","log","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport JoblyApi from '../JoblyApi';\nimport { withRouter } from 'react-router';\nimport './Profile.css';\nimport JobCard from '../JobComponents/JobCard';\n\nclass Profile extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      password: '',\n      email: '',\n      first_name: '',\n      last_name: '',\n      photo_url: '',\n      jobs: [],\n      open: false\n    }\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.toggleOpen = this.toggleOpen.bind(this);\n  }\n\n  async componentWillMount(){\n    let user = await JoblyApi.getUser(localStorage.getItem('username'));\n    this.setState({...user});\n  }\n\n  async handleSubmit(e){\n    e.preventDefault();\n    let body = {...this.state};\n    // Removes bad keys for the backend schema\n    for (let key in body){\n      if (!body[key] || key === 'jobs' || key === 'open')\n        delete body[key];\n    }\n\n    let user = await JoblyApi.updateUser(localStorage.getItem('username'), body);\n    if (user){\n      this.props.history.push('/');\n    } else {\n      this.props.history.push('/profile');\n    }\n    \n  }\n\n  handleChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  toggleOpen(){\n    let copy = {...this.state};\n    copy.open = !copy.open;\n    this.setState(copy);\n  }\n  render() {\n\n    let editButtonStyle = {\n      backgroundColor: \"gainsboro\",\n      color: \"steelblue\",\n      height: '35px'\n    }\n\n    let jobCards = this.state.jobs.map(j=> <JobCard {...j} applied={true} />);\n    console.log(this.state.jobs);\n\n    return (\n      <div className=\"py-5\">\n        <div className=\"card mx-auto\" style={{ width: \"30rem\" }}>\n          <button\n            className=\"btn btn-outline-secondary\"\n            style={editButtonStyle}\n            onClick={this.toggleOpen}>{this.state.open ? \"Close Edit form\" : \"Edit Profile\"}\n          </button>\n          <div className={`card-body base ${this.state.open ? 'show' : 'hide' }`}>\n            {/* Button to toggle Log In vs Registration */}\n            \n            <form onSubmit={this.handleSubmit}>\n\n              <div>\n                <input name=\"username\" autoComplete=\"username\" hidden></input>\n              </div>\n\n              <div className=\"form-group mb-3\">\n                <label htmlFor=\"password\">Password?</label>\n                <input onChange={this.handleChange} name=\"password\" className=\"form-control\" value={this.state.password} type=\"password\" placeholder=\"Change your password here\" autoComplete=\"current-password\" />\n              </div>\n\n              <div className=\"form-group mb-3\">\n                <label htmlFor=\"first_name\">First Name</label>\n                <input onChange={this.handleChange} name=\"first_name\" className=\"form-control\" value={this.state.first_name || ''} type=\"text\" placeholder=\"Enter First Name here\" />\n              </div>\n\n              <div className=\"form-group mb-3\">\n                <label htmlFor=\"last_name\">Last Name</label>\n                <input onChange={this.handleChange} name=\"last_name\" className=\"form-control\" value={this.state.last_name || ''} type=\"text\" placeholder=\"Enter Last Name here\" />\n              </div>\n\n              <div className=\"form-group mb-3\">\n                <label htmlFor=\"email\">Email</label>\n                <input onChange={this.handleChange} name=\"email\" className=\"form-control\" value={this.state.email || ''} type=\"email\" placeholder=\"Enter your Email here\" />\n              </div>\n\n              <div className=\"form-group mb-3\">\n                <label htmlFor=\"photoUrl\">Photo Url</label>\n                <input onChange={this.handleChange} name=\"photoUrl\" className=\"form-control\" value={this.state.photo_url || ''} type=\"Url\" placeholder=\"Enter a Photo Url here\" />\n              </div>\n              <button className=\"btn btn-success my-2 my-sm-0\" type=\"submit\">Save Change</button>\n\n            </form>\n          </div>\n        </div>\n        <h1 style={{ color: \"white\"}}> Applied Jobs: </h1>\n        { jobCards }\n      </div>\n    )\n  }\n}\n\n\nexport default withRouter(Profile);\n"]},"metadata":{},"sourceType":"module"}